<header ng-include="'nav.html'"></header>
<form name = "profileForm" role="form" ng-submit="update_profile()">
  <div class="row">
    <div class="form-group col-sm-6 col-md-4">
      <label for="name"><span class="label label-info">Full Name</span></label>
      <input type="text" class="form-control" id="fullname" placeholder="John Doe" ng-model="currentUser.name">
    </div>
  </div>
  <div class="row">
    <div class="form-group col-sm-6 col-md-4">
      <label for="email"><span class="label label-info">Email</span></label>
      <input type="email" class="form-control" id="email" placeholder="Email" ng-model="currentUser.email">
    </div>
  </div>
  <div class="row">
    <div class="form-group col-sm-6 col-md-4">
      <label for="password"><span class="label label-info">Old Password</span></label>
      <input type="password" class="form-control" id="old_password" ng-model="user_pwd.old_password">
    </div>
  </div>
  <div class="row">
    <div class="form-group col-sm-6 col-md-4">
      <label for="new_password"><span class="label label-info">New Password</span></label>
      <input type="password" class="form-control" id="new_password" ng-model="user_pwd.new_password">
    </div>
  </div>
  <div class="row">
    <div class="form-group col-sm-6 col-md-4">
      <label for="confirm_password"><span class="label label-info">Confirm Password</span></label>
      <input type="password" class="form-control" id="confirm_password" ng-model="user_pwd.confirm_password">
    </div>
  </div>
  <div class="row">
    <div class="form-group col-sm-6 col-md-4">
      <label for="wechat_id"><span class="label label-info">Wechat ID</span></label>
      <input type="text" class="form-control" id="wechat_id" placeholder="WechatID" ng-model="currentUser.wechat_id">
    </div>
  </div>
  <div class="row">
    <div class="form-group col-sm-6 col-md-4">
      <label for="phone"><span class="label label-info">Phone</span></label>
      <input type="text" class="form-control" id="phone" ng-model="currentUser.phone">
    </div>
  </div>

  <button type="submit" class="btn btn-default">Update</button>

</form>
<hr>
<div class="row top7">
  <button type="button" class="btn btn-default" ng-click="createAddress()">Add Address</button>
</div>
<div class="row top7" ng-repeat="address in currentUser.addresses">
  <div class="jumbotron col-sm-6 col-md-4 col-lg-4" ng-if="address.is_default">
    <h3>Default Address</h3>
    <p>{{address.street}}</p>
    <p>{{address.city}}</p>
    <p>{{address.state}} {{address.zipcode}}</p>
    <p>{{address.country}}</p>
    <div class="btn-group" role="group" aria-label="...">
      <button type="button" class="btn btn-default" ng-click="editAddress(address)">Edit</button>
      <button type="button" class="btn btn-danger" ng-click="deleteAddress(address)">Delete</button>
    </div>
  </div>
</div>
<div class="row" ng-repeat="address in currentUser.addresses">
  <div class="jumbotron col-sm-6 col-md-4 col-lg-4" ng-if="!address.is_default">
    <p>{{address.street}}</p>
    <p>{{address.city}}</p>
    <p>{{address.state}} {{address.zipcode}}</p>
    <p>{{address.country}}</p>
    <div class="btn-group" role="group" aria-label="...">
      <button type="button" class="btn btn-default" ng-click="editAddress(address)">Edit</button>
      <button type="button" class="btn btn-default" ng-click="setDefaultAddress(address)">Set Default</button>
      <button type="button" class="btn btn-danger" ng-click="deleteAddress(address)">Delete</button>
    </div>
  </div>
</div>
<p><span style="color:red">{{error_msg}}</span></p>
<p><font color='blue'>{{msg}}</font></p>
